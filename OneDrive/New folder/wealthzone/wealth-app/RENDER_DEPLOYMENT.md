# Render Deployment Guide for Wealth Management App

## ‚ú® Why Render?

- **Free tier** for development and small projects
- **Automatically deploys** from GitHub
- **Supports full-stack** apps (Frontend + Backend + Database)
- **PostgreSQL included** in free tier
- **No credit card** required initially
- **Zero downtime deployments**

---

## üöÄ Quick Deployment (5 minutes)

### Step 1: Sign Up to Render
1. Go to https://render.com
2. Click "Sign up" and connect with GitHub
3. Authorize Render to access your GitHub repositories

### Step 2: Create Blueprint Deployment
1. Go to https://render.com/deploy/github
2. Select the repository: `springboardmentor997-create/Wealth-Management-Blueprint`
3. Click "Deploy"
4. Render will automatically read `render.yaml` and set up everything!

### Step 3: Wait for Deployment
- Backend service builds (~2-3 minutes)
- Frontend service builds (~2-3 minutes)
- Database initializes (~1 minute)

### Step 4: Get Your URLs
Once deployed, Render provides:
- **Backend URL:** `https://wealth-backend.onrender.com`
- **Frontend URL:** `https://wealth-frontend.onrender.com`

---

## ‚öôÔ∏è Manual Setup (Alternative)

If automatic deployment doesn't work:

### Step 1: Create PostgreSQL Database
1. Dashboard ‚Üí Create New ‚Üí PostgreSQL
2. Name: `wealth_db`
3. Plan: Free
4. Click "Create Database"
5. Copy the **Internal Connection String**

### Step 2: Deploy Backend
1. Dashboard ‚Üí Create New ‚Üí Web Service
2. Connect your GitHub repository
3. Name: `wealth-backend`
4. Runtime: `Python 3.11`
5. Build Command: `cd fastapi_backend && pip install -r requirements.txt`
6. Start Command: `python -m uvicorn fastapi_backend.main:app --host 0.0.0.0 --port $PORT`
7. Add Environment Variables (see below)
8. Click "Deploy"

### Step 3: Deploy Frontend
1. Dashboard ‚Üí Create New ‚Üí Web Service
2. Connect your GitHub repository
3. Name: `wealth-frontend`
4. Runtime: `Node 18`
5. Build Command: `cd wealth_frontend && npm install && npm run build`
6. Start Command: `npm run preview -- --host 0.0.0.0 --port $PORT`
7. Publish Directory: `wealth_frontend/dist`
8. Add Environment Variables:
   ```
   VITE_API_URL=https://wealth-backend.onrender.com
   ```
9. Click "Deploy"

---

## üîê Set Environment Variables

### For Backend Service:
1. Go to Backend Service Settings
2. Click "Environment" tab
3. Add these variables:

```
API_ENV=production
DEBUG=False
SECRET_KEY=[Auto-generated by Render]
ALGORITHM=HS256
ACCESS_TOKEN_EXPIRE_MINUTES=30
FRONTEND_URL=https://wealth-frontend.onrender.com
ALLOWED_ORIGINS=https://wealth-frontend.onrender.com
ALPHA_VANTAGE_KEY=your_key_here
FINNHUB_KEY=your_key_here
NEWSAPI_KEY=your_key_here
DATABASE_URL=[From PostgreSQL service]
```

---

## üìä Monitoring & Logs

1. **View Logs:** Service ‚Üí Logs tab
2. **Check Health:** Service ‚Üí Health tab
3. **View Metrics:** Service ‚Üí Events tab
4. **Deploy Status:** Check deployment progress

---

## üîÑ Automatic Redeployment

Render automatically redeploys when you:
- Push to the `Dilip-wealthzone` branch
- Update environment variables
- Connect a new service

---

## ‚ùå Troubleshooting

### Backend won't start
```
Check logs for errors:
1. Click Backend Service
2. Go to Logs tab
3. Look for error messages
4. Common issues:
   - DATABASE_URL not set
   - Python dependencies missing
   - Port not 0.0.0.0
```

### Frontend shows blank page
```
1. Check frontend logs
2. Verify VITE_API_URL is set correctly
3. Check browser console (F12)
4. Verify backend is running
```

### Database connection fails
```
1. Verify DATABASE_URL format:
   postgresql://user:pass@host:5432/db
2. Check connection string from Render PostgreSQL
3. Ensure backend can connect
4. Run migrations manually if needed
```

### SSL/HTTPS Issues
- Render provides free SSL by default
- Clear browser cache if needed
- Check if domain is properly configured

---

## üóÑÔ∏è Database Migrations

### Automatic (First Deploy)
Migrations run automatically if configured in `build.sh`

### Manual Migration
1. Go to Backend Service ‚Üí Shell
2. Run: `python -m alembic upgrade head`

### Create Admin User
1. Go to Backend Service ‚Üí Shell
2. Run: `python fastapi_backend/scripts/create_admin_pg.py`

---

## üìà Scaling (When Ready)

### Upgrade from Free to Paid
- Backend: $7/month (Starter)
- Frontend: $7/month (Starter)
- Database: $15/month (Starter)
- **Total:** ~$29/month for production

### Benefits of Paid Plan
- Always-on (no spin-down after 15 min inactivity)
- Better performance
- More resources
- Priority support

---

## üéØ Free Tier Limitations

- Services spin down after 15 minutes of inactivity
- First request takes ~10 seconds to wake up
- Limited resources (0.5 vCPU, 512MB RAM)
- Database limited to 90 days retention

**Upgrade to Starter plan to remove these limitations**

---

## üìù Next Steps

1. ‚úÖ Deploy to Render
2. Test all API endpoints at `/docs`
3. Test login/register flow
4. Generate API keys from market data providers
5. Add keys to environment variables
6. Monitor logs and performance
7. Set up custom domain (optional)

---

## üîó Useful Links

- Render Docs: https://render.com/docs
- GitHub Integration: https://render.com/docs/github
- PostgreSQL Setup: https://render.com/docs/postgresql
- Environment Variables: https://render.com/docs/environment-variables

---

## üí¨ Need Help?

- Render Support: https://render.com/support
- GitHub Issues: https://github.com/springboardmentor997-create/Wealth-Management-Blueprint/issues
- Discord Community: Render community channels
